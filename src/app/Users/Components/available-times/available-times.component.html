
    <app-navbar></app-navbar>

    <div class="flex">
        <!-- Sidebar Component -->
    <app-user-slidebar></app-user-slidebar>
    

    
        <!-- Main Content -->
        <div class="flex-1 p-6 md:ml-14">
            <h1 class="text-2xl font-semibold text-black">
            
            Available Times
            </h1>
            <hr class="text-gray-200 mt-2 ml-0 mb-5">
        
        
        
                
            <div *ngIf="doctor$ | async as doctor; else loading" class="border border-gray-300 rounded-lg w-full h-auto flex flex-col md:flex-row">
                <!-- Doctor Image for larger screens -->
                <div class="hidden md:block bg-green p-4">
                <img src="/assets/Images/Doctor1.jpeg" alt="Doctor Image" class="w-[220px] h-[220px] rounded-lg">
                </div>
            
                <!-- Doctor Image for smaller screens -->
                <div class="block md:hidden ml-10  bg-green p-4">
                <img src="/assets/Images/Doctor1.jpeg" alt="Doctor Image" class="w-[220px] h-[220px] rounded-lg">
                </div>
            
                <!-- Doctor Details -->
                <div class="flex flex-col md:flex-row ml-10 justify-start p-4 flex-1">
                <!-- Name, Experience, and Department -->
                <div class="flex flex-col mb-4 md:mb-0 mr-10">
                    <div class="flex items-center mb-2">
                    <!-- Doctor Icon -->
                    <i class="fas fa-user-md text-blue-500 mr-2 text-lg"></i>
                    <h1 class="text-xl font-semibold">{{doctor?.personalDetails?.firstName}} {{doctor?.personalDetails?.lastName}}</h1>
                    </div>
                    <div class="flex items-center mb-2">
                    <!-- Experience Icon -->
                    <i class="fas fa-briefcase text-blue-500 mr-2 text-lg"></i>
                    <p class="text-gray-600">Experience: {{doctor?.professionalDetails?.totalExperience}} Years</p>
                    </div>
                    <div class="flex items-center">
                    <!-- Department Icon -->
                    <i class="fas fa-stethoscope text-blue-500 mr-2 text-lg"></i>
                    <p class="text-gray-600">Department: {{doctor?.professionalDetails?.specialisedDepartment}}</p>
                    </div>
                </div>
            
                <!-- Medical License Number and Consultation Fee -->
                <div class="flex flex-col mb-4 md:mb-0">
                    <p class="text-gray-600">Medical License: {{doctor?.professionalDetails?.medicalLicenceNumber}}</p>
                    <p class="text-gray-600">Consultation Fee: <i class="fas fa-inr mr-1"></i>{{doctor?.professionalDetails?.consultationFee}}</p>
                </div>
            
                <!-- Booking Appointment Button -->
                
                </div>
            </div>
            
            <!-- Loading Template -->
            <ng-template #loading>
                <p>Loading...</p>
            </ng-template>

            <div >
            

            </div>
            <div class="bg-white shadow-md mt-8 p-4">
                <p class="text-black font-semibold">Please Select A day and Check The Doctor have Available Slots</p>
                <div class="grid grid-cols-3  text-xs md:grid-cols-5 md:text-s lg:text-lg font-medium lg:grid-cols-7 gap-2 text-center mt-4">
            
            
                    <div 
                    (click)="SelectedDay('Monday')" 
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Monday', 'bg-gray-100': selectedDay !== 'Monday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 px-4 py-4 rounded-md"
                    hover:bg-customBlue           >
                    <h1>Monday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Tuesday')" 
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Tuesday', 'bg-gray-100': selectedDay !== 'Tuesday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 hover:bg-customBlue px-4 py-4 rounded-md"
                    >
                    <h1>Tuesday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Wednesday')"  
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Wednesday', 'bg-gray-100': selectedDay !== 'Wednesday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 hover:bg-customBlue px-4 py-4 rounded-md"
                    >
                    <h1>Wednesday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Thursday')"  
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Thursday', 'bg-gray-100': selectedDay !== 'Thursday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 hover:bg-customBlue px-4 py-4 rounded-md"
                    >
                    <h1>Thursday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Friday')" 
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Friday', 'bg-gray-100': selectedDay !== 'Friday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200    hover:bg-customBlue     px-4 py-4 rounded-md"
                    >
                    <h1>Friday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Saturday')"  
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Saturday', 'bg-gray-100': selectedDay !== 'Saturday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 hover:bg-customBlue px-4 py-4 rounded-md"
                    >
                    <h1>Saturday</h1>
                    </div>
                    <div 
                    (click)="SelectedDay('Sunday')" 
                    [ngClass]="{'bg-customBlue  text-white': selectedDay === 'Sunday', 'bg-gray-100': selectedDay !== 'Sunday'}"
                    class=" h-auto w-auto border cursor-pointer border-gray-200 hover:bg-customBlue   px-4 py-4 rounded-md"
                                >
                    <h1>Sunday</h1>
                    </div>
                    <div>
                    </div>
                    
                    

                    
                    
                    
                    
                
                    
        
                    
                
                

            
                </div>
                <div *ngIf="selectedTimes.length > 0; else noSlots">
                    <div class="grid gap-2 mb-2 p-2 mt-6 text-center grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 w-auto">
                      <div *ngFor="let time of selectedTimes" class="relative flex items-center space-x-1">
                        <!-- Time slot container with relative position -->
                        <p 
                        *ngIf="time" 
                        (click)="selectTime(time)"
                        [ngClass]="{
                          'bg-customBlue text-white': selectedTime === time && !time.isBooked, 
                          'border-green-500': !time.isBooked,
                          'border-gray-500': time.isBooked
                        }"
                        class="relative px-5 cursor-pointer py-3 border rounded flex text-[12px] items-center space-x-2"
                      >
                        <i class="fa fa-clock mr-3 text-gray-500"></i>
                        <span *ngIf="!time.isBooked">
                          {{ time.startTime | timeFormat }} - {{ time.endTime | timeFormat }}
                        </span>
                        <span *ngIf="time.isBooked" class="booked-slot-tooltip  z-10">
                          {{ time.startTime | timeFormat }} - {{ time.endTime | timeFormat }}
                        </span>
                      </p>
                      
                      
                      </div>
                    </div>
                  </div>

                 
                
                
                <!-- Template to show when no slots are available -->
                <ng-template #noSlots>
                    <p class="text-center text-gray-500 mt-4">Sorry, slots are unavailable!</p>
                </ng-template>
                
                
            </div>

            <div class="py-20 text-end">
                <button class="bg-green-500 w-[150px] h-[50px] rounded-lg" (click)="proceedToPay()" >Proceed To Pay</button>
            </div>

            
            

        
        </div>
        
        </div>
        

